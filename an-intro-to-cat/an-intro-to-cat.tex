\documentclass[11pt]{article}

\usepackage{amsmath}

\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{xspace}
\usepackage{indentfirst}

\usepackage{diagrams}

\title{My Exercise Answers to \\
Introduction to Category Theory}
\author{Javran Cheng}

\begin{document}

\maketitle

\newcommand{\cat}[1]{\textit{#1}}
\newcommand{\fcomp}{\circ}

\newcommand{\nat}{\mathbb{N}}

\section{Categories}

\subsection{Categories defined}

\subsubsection{Observe that sets and functions do form a category \cat{Set}}

\begin{itemize}
  \item Objects are sets.
  \item Arrows are total functions, because function are just binary relations
    between two sets.
  \item Composition is the function composition.
  \item Associativity holds because $(h \fcomp g) \fcomp f = h \fcomp (g \fcomp f)$
    always holds for compatible functions.
  \item Identity arrows are functions that relates each element of a set to itself.
    Therefore the requirement $id_B \fcomp f = f = f \fcomp id_A$ becomes trivial.
\end{itemize}

\subsubsection{Each poset is a category, and each monoid is a category}

\paragraph{Each poset is a category} For any given poset, each element in it
is the corresponding object in the category. And each $\le$ relation corresponses
to an arrow in the category. Since $\le$ relation is transitive, the associativity
of arrow composition holds. And the identity for each object $A$ in the structured set is $(A,A)$,
this is because $A \le A$ holds (The binary relation is reflexive).

\paragraph{Each monoid is a category} For any given monoid $(M, \star , 1)$, the corresponding
category has only one object (Here we don't need to care about
what exactly the object is, which isn't important). Every element in
this monoid is an arrow from the only object to itself.
The arrow composition is
the binary relation $\star$. We can observe that for any two arrows $f$ and $g$, $f \star g$
does form another arrow, and that $(f \star g) \star h = f \star (g \star h)$
is guaranteed by the property held by the monoid.
And because the unit $1$ correponses to the identity arrow,
the requirement that $1 \star m = m = m \star 1$ holds trivially (where $m$ are
elements in the monoid).

\subsection{Categories of structured sets}

\subsubsection{The category \cat{Pno}}

\paragraph{(a) Verify that \cat{Pno} is a category}

\begin{itemize}
  \item Objects are $(A, \alpha, a)$ described in the question.
  \item Arrows are functions $f : A \rTo B$ as described in the question
  \item Arrow composition.
    Suppose two arrows are:
    \begin{diagram}
      (A,\alpha,a) & & \rTo^f & &
      (B,\beta,b)  & & \rTo^g & &
      (C,\gamma,c)
    \end{diagram}
    Where $f$ and $g$ preserves the structure:
    \begin{align*}
      f \fcomp \alpha & = \beta  \fcomp f & \quad f(a) = b \\
      g \fcomp \beta  & = \gamma \fcomp g & \quad g(b) = c
    \end{align*}
    We can observe that:
    \begin{align*}
        & g \fcomp f \fcomp \alpha \\
      = & g \fcomp \beta  \fcomp f \\
      = & \gamma \fcomp g \fcomp f
    \end{align*}
    and that:
    \begin{align*}
      (g \fcomp f)(a) = g(b) = c
    \end{align*}

    Therefore the arrow composition is the function composition.

  \item Associativity holds by the function composition.
  \item For each arrow $f : A \rTo B$, let $id_A(a) = a$ for all elements in $A$,
    let $id_B(b) = b$ for all elements in $B$. We can observe that
    $id_B \fcomp f = f = f \fcomp id_A$.
    Therefore the identity arrow is the identity function viewed as a morphism.

\end{itemize}

Therefore $\cat{Pno}$ is a category.

\paragraph{(b) Show that $(\nat, succ, 0)$ is a $\cat{Pno}$-object}

\begin{itemize}
  \item $\nat$ is a set.
  \item $succ$ is of type $\nat \rTo \nat$.
  \item $0 \in \nat$ is a nominated element.
\end{itemize}

Therefore, $(\nat, succ, 0)$ is a $\cat{Pno}$-object.

\paragraph{(c) Unique arrow and the behavior of the carrying function}\mbox{}

We know that $succ(0) = 1, succ(1) = 2, \ldots, succ(n) = n + 1$.
In order to describe the behavior of the carrying function $\alpha$,
We observe the value of $\alpha(f(0)), \alpha(f(1)), \ldots, \alpha(f(n))$:

\begin{align*}
\alpha(f(0)) & = (f \fcomp succ)(0) = (f \fcomp succ^1)(0) \\
\alpha(f(1)) & = \alpha(f \fcomp succ (0)) = (f \fcomp succ \fcomp succ)(0)
= (f \fcomp succ^2)(0) \\
& \ldots
\end{align*}

To sum up, $\forall n \in \nat$:
\begin{align*}
& \alpha(f(n)) \\
= &(\alpha \fcomp f)(succ^n(0)) \\
= &(\alpha \fcomp f \fcomp succ^n) (0) \\
= &(f \fcomp succ \fcomp succ^n) (0) \\
= &(f \fcomp succ^{n+1})(0) \\
= &f(n+1)
\end{align*}

And also:

\begin{align*}
& f(n) \\
= & (f \fcomp succ^{n})(0) \\
= & (\alpha^n \fcomp f)(0) \\
= & \alpha^n(a)
\end{align*}

Therefore the behavior of $\alpha$ is: $\forall a_1 \in A, \exists n_1 \in \nat$
s.t. $f(n_1) = a_1$, applying $\alpha$ to $a_1$ produces the same result as
applying $succ$ to $n_1$ and then applying $f$ to the resulting value does.

We can informally says that $\alpha$ to $(A,a)$ is like $succ$ to $(\nat,0)$.

The uniqueness of $f$ is also established, because from $f(n) = \alpha^n(a)$,
we know that $f$ is determined by $\alpha$ and $a$.

\subsubsection{Category $\cat{SetD}$}

\begin{itemize}
  \item Objects are of form $(A,X)$ which $A$ is a set and $X \subseteq A$.
  \item Arrows are functions of type $f: A \rTo B$ between two objects
    $(A,X)$ and $(B,Y)$
    where $\forall x \in X, f(x) \in Y$.
  \item Arrow composition. For any two compatible arrows $f$, $g$,
    we have the diagram:

    \begin{diagram}
      (A,X) & & \rTo^f & &
      (B,Y) & & \rTo^g & &
      (C,Z)
    \end{diagram}

    For arrow $f$ and $g$, the following constraints hold, respectively:

    \begin{align*}
      \forall x \in X, f(x) = y_x, y_x \in Y \quad \forall y \in Y, g(y) = z_y, z_y \in Z
    \end{align*}

    Therefore:

    \begin{align*}
      \forall x \in X, g(f(x)) = (g \fcomp f)(x) \in Z
    \end{align*}

    Therefore the arrow composition is function composition.

  \item Composition associativity. The associativity holds because
    the arrow composition is function composition.
  \item Identity arrow is the identity function viewed as a morphism.
\end{itemize}

\subsubsection{Show that these pairs are the objects of a category}

\begin{itemize}
  \item Objects are of form $(A,R)$, where $A$ is a set and $R \subseteq A \times A$
    is a binary relation on $A$.
  \item Arrows: Suppose two arbitrary objects are $(A,R)$ and $(B,S)$.
    The arrow $f$:

    \begin{diagram}
      (A,R) & & \rTo^f & & (B,S)
    \end{diagram}

    is a function of type $f : A \times A \rTo B \times B$ such that
    $\forall a_1,a_2 \in A$, if $(a_1,a_2) \in R$, then $f(a_1,a_2) = (b_1,b_2) \in S$.
  \item Arrow composition: for any two compatible arrows $f$ and $g$:

    \begin{diagram}
      (A,R) & & \rTo^f & & (B,S) & & \rTo^g & & (C,T)
    \end{diagram}

    We know:

    \begin{align*}
      \forall (a_1,a_2) \in R, f(a_1,a_2) \in S \quad
      \forall (b_1,b_2) \in S, g(b_1,b_2) \in T
    \end{align*}

    Thus:

    \begin{align*}
      \forall (a_1,a_2) \in R, g(f(a_1,a_2)) = (g \fcomp f)(a_1,a_2) \in T
    \end{align*}

    Therefore the arrow composition is function composition.

  \item Composition associativity holds because the arrow composition
    is function composition.
  \item Each identity arrow is the corresponding identity function viewed as a morphism.
\end{itemize}

\subsubsection{Category \cat{Top}}

{%

\newcommand{\inv}[1]{#1^\leftarrow}
\newcommand{\op}[1]{\mathcal{O}#1}

We first prove a lemma:
For arbitrary topological spaces $(S,\op{S})$, $(T,\op{T})$ and $(U,\op{U})$,
suppose we have 2 continuous map:

\begin{diagram}
  (S,\op{S}) & \rTo^\phi & (T,\op{T}) & \rTo^\psi & (U,\op{U})
\end{diagram}

Then $\forall W \in \op{U}, (\inv{\phi} \fcomp \inv{\psi})(W) \in \op{S} \Rightarrow \
\inv{(\psi \fcomp \phi)}(W) \in \op{S}$.

\begin{proof}

We have the following facts:

\begin{enumerate}
  \item $\phi : S \rTo T$
  \item $\psi : T \rTo U$
  \item $\forall V \in \op{T}, \inv{\phi}(V) \in \op{S}$
  \item $\forall W \in \op{U}, \inv{\psi}(W) \in \op{T}$
  \item $\forall V \in \op{T}, x \in S, x \in \inv{\phi}(V) \Leftrightarrow \phi(x) \in V$
  \item $\forall W \in \op{U}, y \in T, y \in \inv{\psi}(W) \Leftrightarrow \psi(y) \in W$
\end{enumerate}

According to fact 3 and fact 4, we have:

\begin{equation*}
  \forall W \in \op{U}, \inv{\phi}(\inv{\psi}(W)) = (\inv{\phi} \fcomp \inv{\psi})(W) \in \op{S}
\end{equation*}

Since $\inv{\psi}(W) \in \op{T}$, according to fact 5:

\begin{equation*}
  \forall W \in \op{U}, x \in \inv{\phi}(\inv{\psi}(W)), \phi(x) \in \inv{\psi}(W)
\end{equation*}

Since $\phi(x) \in T$. According to fact 6:

\begin{equation*}
  \forall W \in \op{U}, x \in \inv{\phi}(\inv{\psi}(W)), \
 \psi(\phi(x)) = (\psi \fcomp \phi)(x) \in W
\end{equation*}

Therefore:

\begin{equation*}
 \forall W \in \op{U}, x \in \inv{(\psi \fcomp \phi)}(W), \inv{(\psi \fcomp \phi)}(W) \in \op{S}
\end{equation*}

\end{proof}

To show that $\cat{Top}$ is a category:

\begin{itemize}
  \item Objects are topological spaces
  \item Arrows are continuous maps between topological spaces.
  \item The arrow composition is the function composition of continuous maps.
    For arbitrary topological spaces $(S,\op{S})$, $(T,\op{T})$ and $(U,\op{U})$,
    suppose we have 2 continuous map:
    \begin{diagram}
      (S,\op{S}) & \rTo^\phi & (T,\op{T}) & \rTo^\psi & (U,\op{U})
    \end{diagram}
    According to the lemma, we know that $\forall W \in \op{U},
    \inv{(\psi \fcomp \phi)}(W) \in \op{S}$.
    Therefore the function composition yields another continuous map $\psi \fcomp \phi : S \rTo U$.
  \item The associativity for arrow composition holds because the associativity for
    function composition holds
  \item Each identity arrow is the corresponding identity function viewed as
    a continuous map.
\end{itemize}

}%

\subsubsection{Show that $C[A,A]$ is a monoid under composition}

\begin{itemize}
  \item Elements in the set are all arrows in $C[A,A]$
  \item Binary operation $\star$ is arrow composition.
  \item The nominated element in the set is the identity arrow $id_A$.
  \item From the property of identity arrow, we know that $\forall s \in C[A,A]$,
    $id_A \star s = s = s \star id_A$.
  \item From the associativity enforced by the category,
    we know that $\forall s_1,s_2,s_3 \in C[A,A]$,
    $(s_1 \star s_2) \star s_3 = s_1 \star (s_2 \star s_3)$.

Therefore $C[A,A]$ is a monoid under composition.

\end{itemize}

\subsubsection{The composition of partial functions is associative}

Recall the diagram
for objects $A$, $B$, $C$ and arrows $f : A \rTo B$, $g : B \rTo C$:

\begin{diagram}
  A      & \rTo^f               & B       & \rTo^g               & C \\
  \uInto & \ruTo>{\bar{f}}      & \uInto  & \ruTo>{\bar{g}} \\
  X      &                      & Y       &              \\
  \uInto & \ruTo>{\bar{f}_{|U}} \\
  U
\end{diagram}

Now we add another object $D$ and an arrow $h : C \rTo D$,
and show a similar diagram about objects $B$, $C$, $D$ and arrows $g$, $h$:

\begin{diagram}
  B      & \rTo^g               & C       & \rTo^h               & D \\
  \uInto & \ruTo>{\bar{g}}      & \uInto  & \ruTo>{\bar{h}} \\
  Y      &                      & Z       &              \\
  \uInto & \ruTo>{\bar{g}_{|V}} \\
  V
\end{diagram}

Here $Z$ is the domain of total function $\bar{h}$, which is determined by $h$,
$V$ is a subset of $Y$, such that:

\begin{align*}
b \in V \Rightarrow b \in Y \text{ and } \bar{g}(b) \in Z
\end{align*}

Observe the two diagrams above we can find out the ``triangle'' between $B$, $Y$, $C$
overlaps, and the corresponding objects and arrows are equivalent.
So we can combine this two diagrams together to form a larger one:

\begin{diagram}
  A      & \rTo^f               & B       & \rTo^g               & C      & \rTo^h & D \\
  \uInto & \ruTo>{\bar{f}}      & \uInto  & \ruTo>{\bar{g}}      & \uInto & \ruTo>{\bar{h}} \\
  X      &                      & Y       &                      & Z \\
  \uInto & \ruTo>{\bar{f}_{|U}} & \uInto  & \ruTo>{\bar{g}_{|V}} \\
  U      &                      & V \\
  \uInto & \ruTo>{\bar{f}_{|W}} \\
  W
\end{diagram}

In the diagram above, $W$ is a subset of $U$, such that:

\begin{align*}
a \in W \Rightarrow a \in U \text{ and } \bar{f}(a) \in V
\end{align*}

Now we have 3 total functions $\bar{f}_{|W}$, $\bar{g}_{|V}$ and $\bar{h}$,
which are compatible for function composition. Thus we can conclude that:

\begin{align*}
\overline{(f \fcomp g) \fcomp h} =
(\bar{f}_{|W} \fcomp \bar{g}_{|V}) \fcomp \bar{h} =
\bar{f}_{|W} \fcomp (\bar{g}_{|V} \fcomp \bar{h}) =
\overline{f \fcomp (g \fcomp h)}
\end{align*}

Therefore for $\cat{Pfn}$, the arrow composition (the partial function composition)
is associative.

{%
\newcommand{\pset}{\cat{$Set_\bot$}}
\newcommand{\pfn}{\cat{Pfn}}

\subsubsection{Show that \pset and \pfn{}
are ``essentially the same'' category}

In order to see that two categories are ``essentially the same'',
we need to show that \pset{} can be converted to \pfn.
and also that \pfn{} can be converted to \pset.

To convert from a \pfn{} to a \pset{}, for each object $A$ in \pfn,
we make a pointed set $(A', \bot)$ where $A' = A \cup \{\bot\}$ and $\bot$ is an unique
symbol that does not belong to $A$. For each arrow $f : A \rTo B$ in \pfn,
we make an arrow (which is a function) $f' : A' \rTo B'$
by the following definition:

\begin{align*}
  A' &= A \cup \{\bot_A\} \\
  B' &= B \cup \{\bot_B\} \\
  f'(\bot_A) &= \bot_B \\
  f'(a) &= f(a) & \text{if } f \text{ is defined on } a \\
  f'(a) &= \bot_B & \text{if } f \text{ is not defined on } a
\end{align*}

The \pset{} is formed since each object in \pfn{} can be converted into
a pointed set, and arrows in \pfn{} can be converted into arrows in \pset{}
which also respects the nominated points.

We can recover the original \pfn{} by droping the nominated point from each object,
and have each arrow (each function) be undefined if the result is a nominated point.

To convert from a \pset{} to a \pfn, for each object $(A,\bot)$ in \pset,
we drop the nominated point $\bot$ and produce $A' = A - \{\bot\}$.
For each arrow  $f : A \rTo B$, we make an arrow
(which is a function) $f' : A' \rTo B'$ by the following definition:

\begin{align*}
  A' &= A - \{\bot_A\} \\
  B' &= B - \{\bot_B\} \\
  f'(a) &= f(a) & \text{if } f(a) \ne \bot_B \\
  f'(a) & \text{ is undefined} & \text{if } f(a) = \bot_B
\end{align*}

We can recover the original \pset{} by adding the nominated point to each object,
and have each arrow (each function) return the nominated point if the input is a nominated point
or if the function is not defined for the given input.

Therefore we can show that \pfn{} and \pset{} are ``essentially the same''
by showing that they can be converted into each other and convert back.
}%

{%
\newcommand{\rset}{R-\cat{Set}\xspace}
\newcommand{\setr}{\cat{Set}-R\xspace}
\subsubsection{Verify that \rset and \setr are categories}

Let $R$ be a fixed, but arbitrary monoid.

First we focus on \rset.

\begin{itemize}
  \item Objects are {\rset}s.
  \item Arrows are functions. Consider two objects
    and an arrow in this structured set:
    \begin{diagram}
      A & \rTo^f & B
    \end{diagram}
    For any element $a \in A$, let $f(a) = b \in B$.
    Let $r,s \in R$. We need to verify that the following property holds:
    \begin{align*}
      s(rb) = (sr)b \quad
      1b = b
    \end{align*}
    Observe that:
    \begin{align*}
      s(rb) & = s(r f(a)) = s(f(ra)) = f(s(ra)) \\
      (sr)b & = (sr)f(a) = f((sr)a) = f(s(ra))
    \end{align*}
    In addition:
    \begin{align*}
      1b = 1f(a) = f(1a) = f(a) = b
    \end{align*}
    Therefore the function $f$ is a valid arrow between two objects.
  \item Arrow composition is function composition.
    Consider combining two arrows $f : A \rTo B$ and $g : B \rTo C$.
    Let $f(a) = b$, $g(b) = c$, where $a \in A, b \in B, c \in C$.
    Then we have the following properties:
    \begin{align*}
      f(ra) = rf(a) \quad g(rb) = rg(b)
    \end{align*}
    where $r \in R$.

    Consider the resulting arrow of composing $f$ and $g$:
    \begin{align*}
      (g \fcomp f)(ra) &= g(f(ra)) \\
      r (g \fcomp f)(a) & = r g(f(a)) = g(r(f(a))) = g(f(ra))
    \end{align*}

    Therefore $g \fcomp f$ is a valid arrow that preserves the property.
  \item The associativity for arrows holds because of the associativity
    of function composition.
  \item The identity arrow is the identity function viewed as a morphism.
\end{itemize}

Therefore we can conclude that \rset is a category.

For \setr, we have a similar proof:

\begin{itemize}
  \item Objects are right {\setr}s.
  \item Arrows are functions. Consider two objects
    and an arrow in this structured set:
    \begin{diagram}
      A & \rTo^f & B
    \end{diagram}
    For any element $a \in A$, let $f(a) = b$ where $b \in B$.
    Let $r,s \in R$. We need to verify that the following property holds:
    \begin{align*}
      (br)s = b(rs) \quad
      b = b1
    \end{align*}
    Observe that:
    \begin{align*}
      (br)s & = (f(a)r)s = f(ar)s = f((ar)s) = f(a(rs)) \\
      b(rs) & = f(a)(rs) = f(a(rs))
    \end{align*}
    In addition:
    \begin{align*}
      b1 = f(a)1 = f(a1) = f(a) = b
    \end{align*}
    Therefore the function $f$ is a valid arrow between two objects.
  \item Arrow composition is function composition.
    Consider combining two arrows $f : A \rTo B$ and $g : B \rTo C$.
    Let $f(a) = b$, $g(b) = c$, where $a \in A, b \in B, c \in C$.
    Then we have the following properties:
    \begin{align*}
      f(ar) = f(a)r \quad g(br) = g(b)r
    \end{align*}
    where $r \in R$.

    Consider the resulting arrow of composing $f$ and $g$:
    \begin{align*}
      (g \fcomp f)(ar) &= g(f(ar)) \\
      (g \fcomp f)(a)r & = g(f(a)) r = g(f(a)r) = g(f(ar))
    \end{align*}

    Therefore $g \fcomp f$ is a valid arrow that preserves the property.
  \item The associativity for arrows holds because of the associativity
    of function composition.
  \item The identity arrow is the identity function viewed as a morphism.
\end{itemize}

Therefore we can conclude that \setr is a category.

I can see the idea of ``structured set''. For now
my understanding is that the ``structure'' is actually
a bunch of properties carried with the set. And these properties
turn out to be quite useful when proving that some ``structured sets''
are categories.

}%

\subsection{An arrow need not be a function}

\subsubsection{Show that strictly positive integers as objects
and matrices as arrows gives a category}

\begin{itemize}
  \item Objects are strictly positive integers.
  \item Let $m$ and $n$ be two objects, the arrow between them
    ($n \rTo^A m$)
    is an $m \times n$ matrix $A$.
  \item Given two compatible matrices:
    $n \rTo^B k$ and $k \rTo^A m$,
    the arrow composition is given by the matrix product $AB$:
    $n \rTo^{A \fcomp B} m$.
  \item The associativity holds because for any three compatible matrices $A$,$B$ and $C$,
    the matrix multiplication is associative: $(AB)C = A(BC)$.
    Therefore the associativity for arrow composition is obtained from the matrix
    multiplication.
  \item For any object $n$, the identity arrow is the identity matrix $E_n$.
    It holds that $f \fcomp id_n = f = id_m \fcomp f$ for any arrow $f : n \rTo^A m$
    ($A$ is the corresponding matrix of $f$) because of the following property for
    matrix multiplication holds: $ A \times E_n = A = E_m \times A$.
\end{itemize}

Therefore this gives a category. If we have to say that this example somehow cheats,
I think the cheating part is that this category just uses matrix multiplication
to make every property necessary to form a category hold.

\subsubsection{With the appropriate notion of composition,
 graphs and their morphisms form a category}

Suppose we have three directed graphs, namely $(N,E), (M,F), (O,G)$:

\begin{diagram}
  E & \pile{\rTo^{\sigma_0} \\ \rTo_{\tau_0}} & N & \
  F & \pile{\rTo^{\sigma_1} \\ \rTo_{\tau_1}} & M & \
  G & \pile{\rTo^{\sigma_2} \\ \rTo_{\tau_2}} & O & \
\end{diagram}

and two morphisms $f,g$ between them:

\begin{diagram}
  (N,E) & \rTo^f & (M,F) & \rTo^g & (O,G)
\end{diagram}

Graph morphism $f$ consists of two functions $f_0, f_1$, such that:

\begin{align*}
  \sigma_1 \fcomp f_1 = f_0 \fcomp \sigma_0 \qquad \
  \tau_1 \fcomp f_1 = f_0 \fcomp \tau_0
\end{align*}

Similarly, for graph morphism $g$ we have:

\begin{align*}
  \sigma_2 \fcomp g_1 = g_0 \fcomp \sigma_1 \qquad \
  \tau_2 \fcomp f_1 = f_0 \fcomp \tau_1
\end{align*}

Suppose $E_0, F_0, G_0$ are edges in $E,F,G$ respectively
and $N_0 = \sigma_0(E_0), M_0 = \sigma_1(F_0), O_0 = \sigma_2(G_0)$.

We have the following diagram:

\begin{diagram}
  E_0             & \rTo^{f_1} & F_0             & \rTo^{g_1} & G_0 \\
  \dTo^{\sigma_0} &            & \dTo^{\sigma_1} &            & \dTo^{\sigma_2} \\
  N_0             & \rTo^{f_0} & M_0             & \rTo^{g_0} & O_0
\end{diagram}

Since $\sigma_1 \fcomp f_1 = f_0 \fcomp \sigma_0$
and $\sigma_2 \fcomp g_1 = g_0 \fcomp \sigma_1$,
we know that $g_0 \fcomp \sigma_1 \fcomp f_1 = g_0 \fcomp f_0 \fcomp \sigma_0 \
= \sigma_2 \fcomp g_1 \fcomp f_1$.

Similarly, we can conclude that $g_0 \fcomp f_0 \fcomp \tau_0 \
= \tau_2 \fcomp g_1 \fcomp f_1$.

If we denote graph morphisms as pairs of functions, then $f = (f_0,f_1)$ and $g = (g_0,g_1)$.
And we can define the composition of $f$ and $g$ as:

\begin{equation*}
  g \fcomp f = (g_0 \fcomp f_0, g_1 \fcomp f_1)
\end{equation*}

And the composition preserves the property that the following holds:

\begin{align*}
  \sigma_2 \fcomp (g_1 \fcomp f_1) & = (g_0 \fcomp f_0) \fcomp \sigma_0 \\
  \tau_2 \fcomp (g_1 \fcomp f_1) & = (g_0 \fcomp f_0) \fcomp \tau_0
\end{align*}

Therefore we can verify that by taking graphs as objects, graph morphisms as arrows,
and the graph morphism composition defined above as arrow composition, we can form a category.
The associativity of composition holds since:

\begin{align*}
  & (h \fcomp g) \fcomp f \\
  = & ((h_0 \fcomp g_0) \fcomp f_0, (h_1 \fcomp g_1) \fcomp f_1) \\
  = & (h_0 \fcomp (g_0 \fcomp f_0), h_1 \fcomp (g_1 \fcomp f_1)) \\
  = & h \fcomp (g \fcomp f)
\end{align*}

And each identity arrow is the corresponding identity function viewed as graph morphism.

\subsubsection{With the obvious composition this does form a category}

The objects and arrows are given here. So we only need to find a way to compose arrows,
verify its associativity, and find identity arrows.

Consider two new compatible arrows:

\begin{diagram}
  (A,R) & \rTo^{(f,\phi)} & (B,S) & \rTo^{(g,\psi)} & (C,T)
\end{diagram}

where $A,B,C$ are \cat{A}-objects and $R,S,T$ are \cat{S}-objects.

The arrow composition can be defined as:

\begin{align*}
  (g,\psi) \fcomp (f,\phi) = (g \fcomp f, \phi \fcomp \psi)
\end{align*}

We can verify that:

\begin{diagram}
  A & \rTo^{g \fcomp f} & C & R & \lTo^{\phi \fcomp \psi} & T
\end{diagram}

Therefore arrow composition produces another arrow between $(A,R)$ and $(C,T)$.

Given 3 arbitrary compatible arrows $(f,\phi), (g,\psi), (h,\eta)$,
we need to show that the arrow composition is associativity:

\begin{align*}
  & (h,\eta) \fcomp ((g,\psi) \fcomp (f,\phi)) \\
  = & (h,\eta) \fcomp (g \fcomp f, \phi \fcomp \psi) \\
  = & (h \fcomp (g \fcomp f), (\phi \fcomp \psi) \fcomp \eta) \\
  = & ((h \fcomp g) \fcomp f, \phi \fcomp (\psi \fcomp \eta)) \\
  = & (h \fcomp g, \psi \fcomp \eta) \fcomp (f, \phi) \\
  = & ((h,\eta) \fcomp (g,\psi)) \fcomp (f,\phi)
\end{align*}

And each identity arrow is the corresponding pair of identity functions
viewed as a pair of arrows.

\end{document}